<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Hello AJAX World</title>

		<meta name="description" content="A discussion about creating a Joomla AJAX module.">
		<meta name="author" content="Matt Thomas">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

		<div class="slides">
						<section>
							<h1>Hello AJAX World</h1>
							<p>
								<small><a href="http://betweenbrain.com">Matt Thomas</a> (a.k.a <a href="http://betweenbrain.com">betweenbrain</a>)<br/><a href="http://betweenbrain.com/talks/hello-ajax-world">http://betweenbrain.com/talks/hello-ajax-world</a></small>
							</p>
						</section>
  						<section>
						<section>
							<h2>Joomla Ajax Interface</h2>
							<p>
								Core component as of Joomla 3.2
							</p>
							<p>
								Joomla 1.5 / 2.5 version<br/>
								Sample modules and plugin available at
								<a href="https://github.com/Joomla-Ajax-Interface">https://github.com/Joomla-Ajax-Interface</a>

							</p>
						</section>
<!--
							<section>
								<h2>AJAX (jQuery)</h2>
								<pre><code data-trim contenteditable>
	(function ($) {
    $.ajax({
        data   : {
            'option' : 'com_ajax',
            'plugin' : 'latestarticles',
            'format' : 'json'
        },
        success: function (response) {
            console.log(response)
        }
    });
})(jQuery)
								</code></pre>
							</section>
-->
							<section>
								<h2>Origin</h2>
								<p>Inspired by a client, fostered by community.</p>
								<p>Resolves limitation of requests to modules and plugins.</p>
							</section>
                            <section>
                                <h2>The Obstacle</h2>
                                <p>In Joomla, a request must always be a component, can never be a module or plugin.</p>
                                <small>(think menu items)</small>
                            </section>
    							<section>
								<h2>AJAX in 30 Seconds <small>(or less)</small></h2>
								<p>A group of web technologies to send and retrieve data from a server asynchronously without interfering with the page.</p>
							</section>
                            <section>
                                     <h2>The Challenge</h2>
                                     <p>Create a stand-alone module where no component supports Ajax functionality.</p>
                                 </section>
										<section>
								<h2>The Solution</h2>
								<p>Make requests to modules and plugins via a component.</p>
							</section>
							<section>
								<h2>Ajax Request</h2>
								<pre><code data-trim contenteditable>
		?option=com_ajax&module=hello&format=json
								</code></pre>
							</section>
						</section>

						<section>
							<section>
								<h2>Anatomy of an Ajax Request</h2>
							</section>
							<section>
								<h2>Required</h2>
								<p>Call the component</p>
								<code>
									<pre>option=com_ajax</pre>
								</code>
								<p>Designate the target</p>
								<code>
									<pre>[module|plugin]=name</pre>
								</code>
								<small>(e.g. module=session for mod_session)</small>
								<p>Response format</p>
								<code>
									<pre>format=[json|debug|raw]</pre>
								</code>
							</section>

							<section>
								<h2>Module URL Parameter</h2>
								<p>Path of helper file</p>
								<code>
									<pre>$helperFile = JPATH_BASE . '/modules/mod_' . $module . '/helper.php';</pre>
								</code>
								<p>Class name</p>
								<code>
									<pre>$class      = 'mod' . ucfirst($module) . 'Helper';</pre>
								</code>
							</section>

							<section>
								<h2>Optional</h2>
								<p>Alternate module method prefix.</p>
								<code >
									<pre>method=[custom fragment]</pre>
								</code>
								<small>(defaults to 'get', suffix always 'Ajax', e.g. 'getAjax')</small>
							</section>

							<section>
								<h2 contenteditable>&module=session</h2>
								<!--
								<code contenteditable><pre>?option=com_ajax&module=session&format=json</pre></code>
								-->
								<h3>File Structure</h3>
								<pre><code data-trim>
		└── modules
		  └── mod_session
		    ├── helper.php
		    ├── mod_session.php
		    ├── mod_session.xml
		    └── tmpl
		      └── default.php
								</code></pre>
		<h3>helper.php</h3>
								<pre><code data-trim contenteditable>
        &lt;?php defined('_JEXEC') or die;

    class modSessionHelper {

        public static function getAjax()
        {

            return 'Hello Ajax World';
        }
    }
								</code></pre>
							</section>

							<section>
								<h2>Plugin URL Parameter</h2>
								<p>Plugin event to trigger</p>
								<code>
									<pre>$response   = $dispatcher->trigger('onAjax' . $plugin);</pre>
								</code>
							</section>

							<section>
								<h2 contenteditable>&plugin=latestarticles</h2>
								<!--
								<code contenteditable><pre>?option=com_ajax&plugin=latestarticles&format=json</pre></code>
								-->
								<h3>File Structure</h3>
								<pre><code data-trim>
		└── plugins
		  └── ajax
		    └── latestarticles
			 ├── latestarticles.php
			 └── latestarticles.xml
		</code></pre>
		<h3>latestarticles.php</h3>
		<pre><code data-trim contenteditable>
        &lt;?php defined('_JEXEC') or die;

        class plgAjaxLatestarticles extends JPlugin {

            function onAjaxLatestarticles() {

            }
        }
								</code></pre>
							</section>
							<section>
								<h2>Additional Data</h2>
								<p>Anything your plugin or module needs. For example:</p>
								<code>
									<pre>cmd=add</pre>
								</code>
								<code>
									<pre>data=foo</pre>
								</code>
								<code>
									<pre>debug=true</pre>
								</code>
							</section>
						</section>
			<section>
				<h2>To Code!</h2>
				<p>
					<a href="https://github.com/Joomla-Ajax-Interface/Hello-Ajax-World-Module">https://github.com/Joomla-Ajax-Interface/Hello-Ajax-World-Module</a>
				</p>
			</section>
			<section>
				<h2>Thank You</h2>
				<p>
					<small><a href="http://betweenbrain.com">Matt Thomas</a> (a.k.a
						<a href="http://twitter.com/betweenbrain">betweenbrain</a>)
					</small>
				</p>
				<p>
					<a href="http://betweenbrain.com/talks/hello-ajax-world/">http://betweenbrain.com/talks/hello-ajax-world/</a>
				</p>
				<p>
					<a href="https://github.com/joomla-ajax-interface">https://github.com/joomla-ajax-interface</a>
				</p>
			</section>
		</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>
		<script>
var _gaq=[["_setAccount","UA-2493745-1"],["_trackPageview"]];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
g.src=("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js";
s.parentNode.insertBefore(g,s)}(document,"script"));
</script>
	</body>
</html>
